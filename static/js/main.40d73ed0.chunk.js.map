{"version":3,"sources":["images/dkstoll.jpg","images/jlcarroll.jpg","components/ScrollToTop.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","withRouter","history","children","useEffect","unlisten","listen","window","scrollTo","AboutPage","id","className","href","rel","target","Navbar","to","Figures","React","useState","modal","setModal","USState","setUSState","show","handleClose","location","content","USAFigs","category","setCategory","image","setImage","onClick","type","url","tooltip","d3","append","attr","style","USAMap","rtLegend","infLegend","activeMap","setActiveMap","legend","setLegend","legendTitle","setLegendTitle","svgRef","useRef","csvJSON","csv","lines","split","result","headers","i","length","obj","innerObj","currentline","j","push","JSON","parse","stringify","statusIndicator","console","log","width","parseInt","height","projection","translate","scale","path","svg","current","select","remove","selectAll","text","data","enter","d","a","usStatesAll","usStates","features","config","method","axios","rtData","currentState","Object","keys","currentRt","Mean","rtColor","existingUSStateInJSON","find","e","properties","abbr","assign","findIndex","x","rtfill","rt","infectedData","slice","currentInfected","infectedColor","infectedfill","infected","name","on","html","dataset","state","parseFloat","toFixed","y","stateabbr","size","empty","usStateId","createMapWithColors","ref","Modal","currentUSStateName","currentCategoryName","showHideClassName","setContent","contentURL","setContentURL","currentUSState","Data","states","categoriesArr","val","categories","contentText","loadText","escFunction","event","keyCode","handleClick","addEventListener","removeEventListener","map","item","key","class","src","alt","ModalForNation","USAData","News","newsfeed","setNewsfeed","res","items","retrieveBlog","dt","DateTime","fromSQL","pubDate","sanitizedContent","sanitizeHtml","allowedTags","link","title","toLocaleString","DATETIME_FULL","dangerouslySetInnerHTML","__html","Credits","jamesPic","objectPosition","darrenPic","App","exact","component","Boolean","hostname","match","ReactDOM","render","basename","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.40d73ed0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dkstoll.9bb3fadc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/jlcarroll.ddd43882.jpg\";","// https://stackoverflow.com/questions/36904185/react-router-scroll-to-top-on-every-transition\r\n\r\n// ScrollToTop component that scrolls the app to the top of the page upon loading a new component\r\nimport React, { useEffect, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history, children }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  });\r\n\r\n  return <Fragment>{children}</Fragment>;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import React from 'react';\nimport './App.scss';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport sanitizeHtml from 'sanitize-html';\nimport { DateTime } from 'luxon';\nimport axios from 'axios';\nimport Data from './App.json';\nimport * as d3 from 'd3';\n\nimport usStates from './usStates.json';\n\nimport ScrollToTop from './components/ScrollToTop.js';\n\nimport darrenPic from './images/dkstoll.jpg';\nimport jamesPic from './images/jlcarroll.jpg';\n\n// GOAL:\n// There are two different issues, a \"what do we do quickly for now\" and a \"what will this look like longer term\".\n\n// For now, I think we need a place-holder front page, with a link to the blog with my daily updates... and then some sort of auto-index (possibly with thumbnails) so people can get to the existing figures, which currently include testing/case data for each state, with the scale set so that if the testing data goes above the case data, you have a larger than 10% positivity rate. So... the goal would be to keep the cases line below the testing line in the graphs, when they are inverted, a state is in trouble.  So beyond just a directory listing, there should be SOME description of that that goes with the figures. I also have figures for a run of rt.live's algorithm, but on the whole us instead of a per/state level, which they don't do. So it would be nice to give a link to that as well.\n\n// But as time goes on I hope to add many different additional views for each state. I'm hoping to add things like % tests positive, and then the really interesting things... using a full Hierarchical Bayesian Model to estimate how many have actually been infected/are currently infected with good uncertainty bounds...Then I might possibly expand some of this to other countries. \n\n// So eventually, we would need something flexible that will give a reasonable ui so people can choose what figures / data they want to view, from a rather long list of options... while making sure it all makes sense. \n\n// Honestly, I have no idea what the best way is to arrange all that, nor have I kept up with HTML and the various scripting tools people use these days (thus my call for help). \n\nconst App = () => {\n  return (\n    <Switch>\n      <ScrollToTop>\n        <Route exact path=\"/\" component={Figures} />\n        <Route path=\"/news\" component={News} />\n        <Route path=\"/about\" component={AboutPage} />\n        <Route path=\"/credits\" component={Credits} />\n      </ScrollToTop>\n    </Switch>\n  );\n}\n\n// Component that contains info that the viewer will first see\nconst AboutPage = () => {\n  // Once we have a host with its own backend, we can use api keys to retrieve blog information\n\n  return (\n    <>\n      <Navbar />\n      <div id=\"about\">\n        <a className=\"button\" href=\"https://covid-19watch.blogspot.com/\" rel=\"noopener noreferrer\" target=\"_blank\">Link to blog</a>\n        <p>This site contains the up-to-date data about COVID-19 in the US.</p>\n      </div>\n    </>\n  )\n}\n\n// Component that contains the navbar\nconst Navbar = () => {\n  return (\n    <header>\n      <nav id=\"navbar\">\n        <ul>\n          <Link className=\"nav-link\" to=\"/\"><li>Map & Figures</li></Link>\n          <Link className=\"nav-link\" to=\"/news\"><li>News</li></Link>\n          <Link className=\"nav-link\" to=\"/about\"><li>About</li></Link>\n          <Link className=\"nav-link\" to=\"/credits\"><li>Credits</li></Link>\n        </ul>\n      </nav>\n    </header>\n  )\n}\n\n// Component that holds the figures\nconst Figures = () => {\n  // State hook that holds the modal boolean, whether or not it shows up\n  const [modal, setModal] = React.useState(false);\n  // State hook that holds the current US state being viewed\n  const [USState, setUSState] = React.useState('');\n\n  return (\n    <>\n      <Navbar />\n      <div id=\"figures\">\n        <h1>COVID-19 Watch</h1>\n        <div id=\"USAFigs\" className=\"USAFigs\">\n          <USAFigs />\n        </div>\n        <h2>Select a state...</h2>\n        \n        {/* https://websitebeaver.com/how-to-make-an-interactive-and-responsive-svg-map-of-us-states-capitals */}\n        <USAMap modal={modal} setModal={setModal} USState={USState} setUSState={setUSState} />\n        <Modal \n          show={modal} \n          handleClose={() => {\n            setModal(!modal);\n            }\n          }\n          location = {USState} \n          content=\"Content\"\n        />\n        \n      </div>\n    </>\n  )\n}\n\n// Component that returns the USA figures\nconst USAFigs = () => {\n  // State hook that holds the modal boolean, whether or not it shows up\n  const [modal, setModal] = React.useState(false);\n  // State hook to hold which type of RT that is being passed\n  const [category, setCategory] = React.useState('');\n  // State hook to hold the URL of the image\n  const [image, setImage] = React.useState('');\n\n  return (\n    <>\n      <button className=\"chartButton\" onClick={() => {setModal(!modal)}}>\n        Overall USA Statistics\n      </button>\n      <ModalForNation\n        show={modal} \n        handleClose={() => {\n          setModal(!modal);\n          setCategory('');\n          setImage('');\n          }\n        }\n        location=\"USA\"\n        type={category}\n        url={image}\n      />\n    </>\n  )\n}\n\n// Tooltip declared outside of component to avoid duplication\nvar tooltip = d3.select(\"body\")\n .append(\"div\")\n .attr(\"class\", \"tooltip\")               \n .style(\"visibility\", \"hidden\");\n\n// Component that colors the US map based on data provided\nconst USAMap = ({ modal, setModal, USState, setUSState }) => {\n  // Legend keys\n  const rtLegend = [\">1.10\", \">1.02\", \"between\", \"<0.98\", \"<0.95\"];\n  const infLegend = [\">1%\", \">0.75%\", \">0.50%\", \">0.25%\", \"<=0.25%\"];\n\n  // React hook that determines which active dataset is showing for the colors on the map\n  const [activeMap, setActiveMap] = React.useState(false);\n  // React hook for storing the associated legends with the active dataset\n  const [legend, setLegend] = React.useState(infLegend);\n  // React hook for legend title\n  const [legendTitle, setLegendTitle] = React.useState(\"actively infected\");\n\n  const svgRef = React.useRef();\n  \n  // Function to convert csv to JSON, specific for this project - http://techslides.com/convert-csv-to-json-in-javascript\n  const csvJSON = (csv) => {\n    var lines = csv.split(\"\\n\");\n\n    var result = [];\n\n    // NOTE: If your columns contain commas in their values, you'll need\n    // to deal with those before doing the next step \n    // (you might convert them to &&& or something, then covert them back later)\n    // jsfiddle showing the issue https://jsfiddle.net/\n    var headers=lines[0].split(\",\");\n\n    for(var i=1;i<lines.length;i++){\n\n      var obj = {}, innerObj = {};\n      var currentline=lines[i].split(\",\");\n      for(var j=1;j<headers.length;j++){\n        innerObj[headers[j]] = currentline[j];\n      }\n      obj[currentline[0]] = innerObj;\n      result.push(obj);\n    }\n\n    //return result; //JavaScript object\n    return JSON.parse(JSON.stringify(result)); //JSON\n\n  }\n\n  // Get the current colors for each state to use for fill\n  // Colors: Red, Orange, Yellow,  Green, Bright-Green\n  let statusIndicator = [\"#cc0000\", \"#ffa500\", \"#cccc00\", \"#00cc00\", \"#66ff00\"];\n  \n  // Build the map using d3 and the fill colors from the rt data\n  React.useEffect(() => {\n    //Width and height of map\n    console.log(d3.select(\"#map\").style(\"width\"));\n    var width = parseInt(d3.select(\"#map\").style(\"width\"));\n    var height = width * 0.5;\n\n    // D3 Projection\n    var projection = d3.geoAlbersUsa()\n              .translate([width/2, height/2])    // translate to center of screen\n              .scale([width]);          // scale things down so see entire US\n            \n    // Define path generator\n    var path = d3.geoPath()               // path generator that will convert GeoJSON to SVG paths\n            .projection(projection);  // tell path generator to use albersUsa projection\n\n    var svg = d3.select(svgRef.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    svg.select(\".legendTitle\").remove();\n    svg.selectAll(\".dots\").remove();\n    svg.selectAll('.labels').remove();\n\n    // Build the legend\n    svg.append(\"text\")\n      .text(legendTitle)\n      .attr(\"class\", \"legendTitle\")\n      .attr(\"x\", width - 130)\n      .attr(\"y\", height - 170)\n      .style(\"font-weight\", \"bold\")\n\n    svg.selectAll(\".dots\")\n      .data(legend)\n      .enter()\n      .append(\"circle\")\n      .attr('class', 'dots')\n      .attr(\"r\", 7)\n      .attr(\"cx\", width - 100)\n      .attr(\"cy\", (d,i) => (height - 150) + i*25)\n      .style(\"fill\", (d,i) => statusIndicator[i]);\n\n    svg.selectAll(\".labels\")\n      .data(legend)\n      .enter()\n      .append(\"text\")\n      .attr('class', 'labels')\n      .attr(\"x\", width - 80)\n      .attr(\"y\", (d,i)=>  (height - 150) + i*25)\n      .text(d => d)\n      .attr(\"text-anchor\", \"left\")\n      .style(\"alignment-baseline\", \"middle\");\n\n    const createMapWithColors = async () => {\n      let usStatesAll = usStates.features;\n\n      // Map color and properties for rt\n      try {\n        let config = {\n          method: 'get',\n          url: 'https://raw.githubusercontent.com/jlc42/jlc42.github.io/master/figs/rt_live_code_figs/masterRt.csv'\n        }\n        let rtData = csvJSON((await axios(config)).data);\n        for (let i = 0; i < rtData.length; i++) {\n          let currentState = Object.keys(rtData[i])[0];\n          \n          let currentRt = rtData[i][currentState].Mean;\n          let rtColor;\n          if (currentRt > 1.1) rtColor = statusIndicator[0];\n          else if (currentRt > 1.02) rtColor = statusIndicator[1];\n          else if (currentRt < 0.95) rtColor = statusIndicator[4];\n          else if (currentRt < 0.98) rtColor = statusIndicator[3];\n          else rtColor = statusIndicator[2];\n\n          let existingUSStateInJSON = usStatesAll.find(e => e.properties.abbr === currentState);\n\n          if (existingUSStateInJSON) {\n            Object.assign(usStatesAll[usStatesAll.findIndex(x => x.id === existingUSStateInJSON.id)].properties, {rtfill: rtColor}, {rt: currentRt});\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      }\n\n      // Map color and properties for percent infected\n      try {\n        let config = {\n          method: 'get',\n          url: 'https://raw.githubusercontent.com/jlc42/jlc42.github.io/master/figs/PercentActive/masterPercentInfected.csv'\n        }\n        let infectedData = csvJSON((await axios(config)).data);\n        for (let i = 0; i < infectedData.length; i++) {\n          let currentState = Object.keys(infectedData[i])[0].slice(0,2);\n          \n          let currentInfected = infectedData[i][Object.keys(infectedData[i])[0]].Mean;\n\n          let infectedColor;\n          if (currentInfected > .01) infectedColor = statusIndicator[0];\n          else if (currentInfected > .0075) infectedColor = statusIndicator[1];\n          else if (currentInfected > .0050) infectedColor = statusIndicator[2];\n          else if (currentInfected > .0025) infectedColor = statusIndicator[3];\n          else infectedColor = statusIndicator[4];\n\n          let existingUSStateInJSON = usStatesAll.find(e => e.properties.abbr === currentState);\n\n          if (existingUSStateInJSON) {\n            Object.assign(usStatesAll[usStatesAll.findIndex(x => x.id === existingUSStateInJSON.id)].properties, {infectedfill: infectedColor}, {infected: (currentInfected * 100)});\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      }\n\n      // 50 States path creation\n      svg.selectAll(\"path\")\n      .data(usStatesAll)\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", d => \"state\" + d.properties.abbr)\n      .attr(\"d\", path)\n      .attr(\"data-stateabbr\", (d) => d.properties.abbr)\n      .attr(\"data-state\", (d) => d.properties.name)\n      .attr(\"data-rt\", d => d.properties.rt)\n      .attr(\"data-infected\", d=> d.properties.infected)\n      .style(\"stroke\", \"#fff\")\n      .style(\"stroke-width\", \"1\")\n      .style(\"fill\", (d) => d.properties.infectedfill)\n\n      .on(\"mousemove\", (d) => {\n        tooltip.html(\"<p>\" + d.target.dataset.state + \"<br />% actively infected: \" + parseFloat(d.target.dataset.infected).toFixed(2) + \"<br />rt: \" + parseFloat(d.target.dataset.rt).toFixed(4) + \"%</p>\")\n          .style(\"left\", (d.x + 18) + \"px\")\n          .style(\"top\", (d.y - 28) + \"px\")\n          .style(\"visibility\", \"visible\")\n      })\n      .on(\"mouseout\", (d) => {\n        tooltip\n          .style(\"visibility\", \"hidden\")\n      })\n      .on(\"click\", (d) => {\n        setModal(!modal);\n        setUSState(d.target.dataset.stateabbr);\n      });\n\n    \n    // Insert DC as a circle\n    if (d3.selectAll(\".stateDC\").size() === 1) {\n      svg.selectAll(\"svg\")\n      .data([usStatesAll.find(e => e.id === \"11\")])\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", d => \"state\" + d.properties.abbr)\n      .attr(\"data-stateabbr\", (d) => d.properties.abbr)\n      .attr(\"data-state\", (d) => d.properties.name)\n      .attr(\"data-rt\", d => d.properties.rt)\n      .attr(\"data-infected\", d=> d.properties.infected)\n      .attr(\"cx\", width * 0.76)\n      .attr(\"cy\", height * 0.44)\n      .attr(\"r\", () => {\n        if (width * 0.005 > 1) return width * 0.005;\n        else return 1;\n      })\n      .style(\"fill\", (d) => d.properties.infectedfill)\n      .style(\"stroke\", \"white\")\n      .style(\"stroke-width\", \"2\")\n\n      .on(\"mousemove\", (d) => {\n        tooltip.html(\"<p>\" + d.target.dataset.state + \"<br />% actively infected: \" + parseFloat(d.target.dataset.infected).toFixed(2) + \"<br />rt: \" + parseFloat(d.target.dataset.rt).toFixed(4) + \"%</p>\")\n          .style(\"left\", (d.x + 18) + \"px\")\n          .style(\"top\", (d.y - 28) + \"px\")\n          .style(\"visibility\", \"visible\")\n      })\n      .on(\"mouseout\", (d) => {\n        tooltip\n        .style(\"visibility\", \"hidden\")\n      })\n      .on(\"click\", (d) => {\n        setModal(!modal);\n        setUSState(d.target.dataset.stateabbr);\n      });\n    }\n    \n\n    // Toggles between map displays for either rt or infected percent\n    if (d3.select(\".toggle\").empty()) {\n      d3.select(\"#figures\")\n      .append(\"button\")\n      .attr(\"class\", \"toggle chartButton\")\n      .text(\"Toggle Map Display\")\n    }\n\n    d3.select(\".toggle\")\n      .on(\"click\", () => {\n        setActiveMap(!activeMap);\n        if (activeMap) {\n          setLegendTitle(\"actively infected\")\n          setLegend(infLegend);\n        }\n        else {\n          setLegendTitle(\"rt\")\n          setLegend(rtLegend);\n        }\n        for (let i = 0; i < usStatesAll.length; i++) {\n          let currentState = usStatesAll[i].properties;\n          let usStateId = \".state\" + currentState.abbr;\n          if (activeMap) {\n            d3.selectAll(usStateId)\n              .style(\"fill\", currentState.infectedfill);\n          }\n          else {\n            d3.selectAll(usStateId)\n              .style(\"fill\", currentState.rtfill);\n          }\n        }\n      });\n    \n    }\n    createMapWithColors();\n    const resize = () => {\n      width = parseInt(d3.select(\"#map\").style(\"width\"));\n      height = width * 0.5;\n\n      projection.translate([width/2, height/2])\n        .scale([width]);\n      \n      d3.select(\"#mapContainer\")\n        .style('width', d3.select(\"#mapContainer\").style(\"width\"))\n      \n      d3.select(\"#map\")\n        .style('width', width + 'px')\n\n    }\n    d3.select(window).on('resize', resize);\n  });\n  \n\n  return (\n    <div id=\"mapContainer\">\n      <svg id=\"map\" ref={svgRef}></svg>\n    </div>\n  )\n}\n\n// Modal component that handles the popup when clicking the image\nconst Modal = ({ handleClose, show, location }) => {\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\n\n  // State hook that holds the current category being viewed\n  const [category, setCategory] = React.useState('');\n  // State hook that handles current image\n  const [image, setImage] = React.useState('');\n  // State hook that handles current text content\n  const [content, setContent] = React.useState('');\n  // State hook that handles current text content url\n  const [contentURL, setContentURL] = React.useState('');\n\n  // Define variables containing information used in modal window\n  let currentUSState = Data.states[location];\n  let currentUSStateName, currentCategoryName;\n  let categoriesArr = [];\n\n  for (let val in Data.categories) {\n    categoriesArr.push(val);\n  }\n\n  if (currentUSState) {\n    currentUSStateName = currentUSState.name;\n    currentCategoryName = Data.categories[category].name;\n  }\n\n  // useEffect hook that handles the change whenever state changes\n  React.useEffect(() => {\n    if (category === \"\") setCategory('percentInfected');\n    if (currentUSState) {\n      setImage(currentUSState[category].image);\n      // Handles loading the content text into the modal window\n      const loadText = async () => {\n        setContentURL(currentUSState[category].text);\n        try {\n          let config = {\n            method: 'get',\n            url: contentURL\n          }\n          if (contentURL !== '') {\n            let contentText = await axios(config);\n            setContent(contentText.data);\n          }\n        } catch (err) {\n          console.log(err);\n          setContent('');\n        }\n      }\n      loadText();\n    }\n  }, [category, currentUSState, content, contentURL]);\n\n  // If \"ESC\" is pressed, it exits the modal window\n  const escFunction = (event) => {\n    if (event.keyCode === 27) { \n      handleClose();\n    }\n  }\n\n  // If the mouse is clicked outside of the modal window while it is open, the modal will close\n  const handleClick = (event) => {\n    if (event.target.className === \"modal display-block\") {\n      handleClose();\n    }\n  }\n\n  // Side-effect that handles the ESC press or click out of modal window\n  React.useEffect(() => {\n    if (show) {\n      window.addEventListener('keydown', escFunction);\n      window.addEventListener('click', handleClick)\n      return (() => {\n        window.removeEventListener('keydown', escFunction);\n        window.removeEventListener('click', handleClick);\n      })\n    }\n  })\n\n  return (\n    <div className={showHideClassName}>\n      <section className=\"modal-main\">\n        <span className=\"close\" onClick={handleClose}>&times;</span>\n        <div className=\"modal-header\">  \n          <h1>{currentUSStateName} - {currentCategoryName}</h1>\n          {/* Insert buttons that allow you to change the category and view the related category's contents */}\n          <div className=\"modal-buttons\">\n            {categoriesArr.map((item) => {\n              return <button key={item} class=\"chartButton\" onClick={(() => setCategory(item))}>{Data.categories[item].name}</button>\n            })}\n          </div>\n        </div>\n        <img className=\"modal-image\" src={image} alt={location} />\n        <div className=\"modal-content\">\n        {content || \"No explanation yet...\"}\n        </div>\n        <div className=\"modal-footer\">\n          <button onClick={handleClose}>Close</button>\n        </div>\n      </section>\n    </div>\n  )\n};\n\nconst ModalForNation = ({ handleClose, show, type, url }) => {\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\n\n  // State hook that holds the current category being viewed\n  const [category, setCategory] = React.useState('percentInfected');\n  // State hook that handles current image\n  const [image, setImage] = React.useState('');\n  // State hook that handles current text content\n  const [content, setContent] = React.useState('');\n  // State hook that handles current text content url\n  const [contentURL, setContentURL] = React.useState('');\n  \n  let USAData = Data.states[\"USA\"];\n\n  let categoriesArr = [];\n\n  for (let val in Data.categories) {\n    categoriesArr.push(val);\n  }\n\n  let currentCategoryName = Data.categories[category].name;\n\n  // If \"ESC\" is pressed, it exits the modal window\n  const escFunction = (event) => {\n    if (event.keyCode === 27) { \n      handleClose();\n    }\n  }\n\n  // If the mouse is clicked outside of the modal window while it is open, the modal will close\n  const handleClick = (event) => {\n    if (event.target.className === \"modal display-block\") {\n      handleClose();\n    }\n  }\n\n  // Side-effect that handles the ESC press or click out of modal window\n  React.useEffect(() => {\n    if (show) {\n      window.addEventListener('keydown', escFunction);\n      window.addEventListener('click', handleClick)\n      return (() => {\n        window.removeEventListener('keydown', escFunction);\n        window.removeEventListener('click', handleClick);\n      })\n    }\n  })\n\n    // useEffect hook that handles the change whenever state changes\n    React.useEffect(() => {\n      if (USAData) {\n        setImage(USAData[category].image);\n        // Handles loading the content text into the modal window\n        const loadText = async () => {\n          setContentURL(USAData[category].text);\n          try {\n            let config = {\n              method: 'get',\n              url: contentURL\n            }\n            if (contentURL !== '') {\n              let contentText = await axios(config);\n              setContent(contentText.data);\n            }\n          } catch (err) {\n            console.log(err);\n            setContent('');\n          }\n        }\n        loadText();\n      }\n    }, [category, USAData, content, contentURL]);\n\n  return (\n    <div className={showHideClassName}>\n      <section className=\"modal-main\">\n        <span className=\"close\" onClick={handleClose}>&times;</span>\n        <div className=\"modal-header\">  \n          <h1>USA - {currentCategoryName}</h1>\n          {/* Insert buttons that allow you to change the category and view the related category's contents */}\n          {categoriesArr.map((item) => {\n            return <button key={item} onClick={(() => setCategory(item))}>{Data.categories[item].name}</button>\n          })}\n        </div>\n        <img className=\"modal-image\" src={image} alt=\"USA\" />\n        <div className=\"modal-content\">\n        {content || \"No explanation yet...\"}\n        </div>\n        <div className=\"modal-footer\">\n          <button onClick={handleClose}>Close</button>\n        </div>\n      </section>\n    </div>\n  )\n};\n\nconst News = () => {\n  const [newsfeed, setNewsfeed] = React.useState([]);\n  React.useEffect(() => {\n    const retrieveBlog = async () => {\n      try {\n        let config = {\n          method: 'get',\n          url: \"https://api.rss2json.com/v1/api.json?rss_url=https://covid-19watch.blogspot.com/feeds/posts/default?alt=rss\"\n        }\n        let res = await axios(config);\n        setNewsfeed([\n          res.data.items[0],\n          res.data.items[1],\n          res.data.items[2]\n        ])\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    retrieveBlog();\n  },[])\n\n  return (\n    <>\n      <Navbar />\n      <div id=\"news\">\n        {newsfeed.map(item => {\n          let dt = DateTime.fromSQL(item.pubDate);\n          \n          let sanitizedContent = sanitizeHtml(item.content, \n            {\n              allowedTags: ['p','img','span','br','div','a','h2']\n            });\n          \n          return(\n            <div key={item.link} className=\"newsItemContainer\">\n              <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\"><h1>{item.title}</h1></a>\n              <h5>{dt.toLocaleString(DateTime.DATETIME_FULL)}</h5>\n              <div dangerouslySetInnerHTML={{__html: sanitizedContent}}></div>\n            </div>\n          )\n        })}\n      </div>\n    </>\n  )\n}\n\n// Component that has information on all the people who contributed to this project\nconst Credits = () => {\n  return (\n    <>\n      <Navbar />\n        \n      <div id=\"credits\">\n        <h2>Credits</h2>\n        <div className=\"creditContainer\">\n          <div className=\"creditImageContainer\"><img src={jamesPic} alt=\"James\" style={{objectPosition:\"50% 35%\"}} /></div>\n          <div className=\"creditInfo\">\n            <h3>James L Carroll</h3>\n            <h4>\"The One in Charge\"/Data Specialist</h4>\n            <p>James Carroll has a PhD in statistical machine learning, with a minor in Ancient Near Eastern history from Brigham Young University, and is currently a scientist at Los Alamos National Laboratory working in complex data analysis and uncertainty quantification.</p>\n          </div>\n        </div>\n        <div className=\"creditContainer\">\n        <div className=\"creditImageContainer\"><img src={darrenPic} alt=\"Darren\" /></div>\n          <div className=\"creditInfo\">\n            <h3>Darren Stoll</h3>\n            <h4>Front-end Site Manager</h4>\n            <p>Darren is the one that makes the info show up on a nice, orderly website. He is a front-end software engineer.</p>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}